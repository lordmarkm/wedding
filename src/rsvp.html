<!DOCTYPE html>
<html lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Mark and Carissa | RSVP</title>
    <link rel="icon" href="./assets/img/favicon.ico" type="image/x-icon"> 
    <link rel="shortcut icon" href="./assets/img/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" type="image/png" href="./assets/img/favicon.png">
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="./assets/css/responsive.css">
    <link rel="stylesheet" href="./assets/css/champagne.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
</head>
<body class="details">
<main class="rsvp">
  <!-- Preloader -->
  <div id="preloader">
    <div id="loading"><img src="./assets/img/loading.gif" alt=""></div>
    <div id="ink"></div>
    <div id="load-bg"></div>
  </div>

  <!-- Menu -->
  <input type="checkbox" id="nav-toggle">
  <label for="nav-toggle">
    <div class="menu-btn"><p>Menu</p></div>
  </label>

  <div class="menu-wrap" style="display: none;">
    <div class="inner-wrap">
    <ul>
      <li><a href="./details.html"><div id="details-btn"></div></a></li>
      <li><a href="./index.html"><div id="story-btn"></div></a></li>
      <li><a href="./rsvp.html"><div id="rsvp-btn"></div></a></li>
    </ul>
    </div>
  </div>
  <div id="title-rsvp"  style="height: 50px;"><img src="./assets/img/rsvp-text.png" alt="RSVP" style="height: 170px;"></div>
  <form id="rsvp-form">
  <div class="container">
    <div class="row">
      <div class="col-sm-12 col-md-6 col-md-push-3 col-lg-6 col-lg-push-3" style="margin-top: 50px;">
        <div class="form-group row">
          <label for="name" class="col-12">Name</label>
          <div class="col-12">
            <input type="text" name="name" required="required" value="Mark"><div class="input-wrap" name="name"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-6 col-md-3 col-lg-3 col-md-push-3 col-lg-push-3">
        <div class="form-group row">
          <label for="email" class="col-12">Email</label>
          <div class="col-12">
            <input type="email" name="email" required="" value="a@b.com"><div class="input-wrap"></div>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-md-3 col-lg-3 col-md-push-3 col-lg-push-3">
        <div class="form-group row">
          <label for="email" class="col-12">Contact No.</label>
          <div class="col-12">
            <input type="number" id="contact" name="contact" required="" value="1"><div class="input-wrap"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-6 col-md-3 col-lg-3 col-md-push-3 col-lg-push-3">
        <div class="form-group row">
          <label for="email" class="col-12">Attending?</label>
          <div class="col-12">
            <input type="radio" name="attendance" id="yes" value="yes" required="" checked="checked">
            <label for="yes" style="text-align: center;">
              <div class="radio"></div>
              <div style="margin-left: 5px;">Yes</div>
            </label>

          <input type="radio" name="attendance" id="no" value="no">
          <label for="no" style="text-align: center;">
            <div class="radio"></div>
            <div style="margin-left: 5px;">No</div>
          </label>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-md-3 col-lg-3 col-md-push-3 col-lg-push-3">
        <div class="form-group row">
          <label for="email" class="col-12">No. of Guests</label>
          <div class="col-12">
	        <input type="number" name="attendees" required="" value="1">
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6 col-md-push-3 col-lg-6 col-lg-push-3">
        <div class="row">
          <input type="submit" value="Submit">
        </div>
      </div>
    </div>
  </div>
  </form>
  <div class="border-rsvp"></div>
</main>

  <footer>
  <div class="container text-center">
      <hr />
    <div class="row">
      <div class="col-lg-12">
        <div class="col-md-4">
          <ul class="nav nav-pills nav-stacked">
            <li><a href="./index.html">Story</a></li>
          </ul>
        </div>
        <div class="col-md-4">
          <ul class="nav nav-pills nav-stacked">
            <li><a href="./details.html">Details</a></li>
          </ul>
        </div>
        <div class="col-md-4">
          <ul class="nav nav-pills nav-stacked">
            <li><a href="./rsvp.html">RSVP</a></li>
          </ul>
        </div>
      </div>
    </div>
    <hr>
      <div class="row">
          <div class="col-lg-12">
              <ul class="nav nav-pills nav-justified">
                  <li><a href="./custom.html">Interested in getting an RSVP page for your own event? Click here</a></li>
              </ul>
          </div>
      </div>
  </div>
  </footer>

<style>
.swal2-loading .swal2-confirm {
  background: none;
}
.swal2-confirm {
  background-color: transparent !important;
  outline: none !important;
  background: url('assets/img/button.png') no-repeat;
  background-size:100% 100%;
  border:0;
  font-size:22px;
  padding:15px 60px;
  color:white;
  margin-top:-40px;
  width:auto;
  cursor:pointer;
  overflow: hidden;
}
.swal2-confirm:active, .swal2-confirm:focus {
  outline: none !important;
  overflow: hidden;
}
</style>

    <script src="./assets/js/jquery-3.2.1.min.js"></script>
    <script src="./assets/js/jquery.serialize-object.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@7.4.0/dist/sweetalert2.all.min.js"></script>
    <script>
      (function($) {
        $(window).on('load', function() { // makes sure the whole site is loaded 
          $('#loading').delay(300).hide();
          $('#load-bg').delay(500).hide(); // will first fade out the loading animation 
          $('#ink').delay(500).show();
          $('#preloader').delay(1000).hide('slow'); // will fade out the white DIV that covers the website.
        });

        var $form = $('form#rsvp-form'), url = 'https://script.google.com/macros/s/AKfycbxY1rZG5aEXNfCOohyzqlPV-JLkPpVzrVgnDCSSqwTprlJ45go/exec'
        $form.on('submit', function(e) {
          e.preventDefault();

          let data = $form.serializeObject();
          swal({
            text: "Submitting your response! Thank you!",
            button: "Back to Details",
            allowOutsideClick: false,
            imageUrl: 'assets/img/logo.png'
          });
          swal.showLoading();
          var jqxhr = $.ajax({
            url : url,
            method : "POST",
            dataType : "json",
            data : $form.serializeObject(),
            success: function (response) {
              swal({
                text: "Response sent!",
                allowOutsideClick: false,
                confirmButtonText: "View Details",
                focusConfirm: false,
                focusCancel: false,
                imageUrl: 'assets/img/logo.png'
              }).then(function () {
                window.location.href="./details.html";
              });
            }
          });
          //swal.showLoading();
        });

        $('.menu-wrap').hide();
        $('.menu-btn').click(function() {
          if ($('#nav-toggle').is(':checked')) {
            $('.menu-wrap').removeClass('menu-show');
            $('.menu-wrap').delay(400).fadeOut(200);
          } else {
            $('.menu-wrap').fadeIn(200);
            $('.menu-wrap').addClass('menu-show');

          }
        });
      })(jQuery);
    </script>


</body></html>